<!DOCTYPE html>
<html>
<head>
	<title>Defect Tracker</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
</head>
<body>
<br>
<div class="container">
  <div class="card">
    <div class="card-body">
       <div class="col-md-12">
         <div class="tile">
            <h1><font face="Lucida Handwriting "><B><font size="24" color="#16CFE1">D</font>efect Tracker!!</B></font></h1>
            <br>
         	<div class="tile-body">
         	
              <form onsubmit="return false">
                  <div class="form-group">
                      <label for="defectid">Defect Id:</label>
                      <input type="text" class="form-control" id="defectid" placeholder="Defect Id">
                    </div>
                  </div>
                
                      <div class="form-row">
                    <div class="col">
                        <label class="control-label">Severity:</label>
                        <select id="severity" class="form-control">
                            <option selected>--------</option>
                           <option>High</option>
                           <option>Medium</option>
                           <option>Law</option>
                         </select>
                    </div>
                  
                    <div class="col">
                        <label class="control-label">Piriority:</label>
                        <select id="priority" class="form-control">
                          <option selected>--------</option>
                          <option>High</option>
                          <option>Medium</option>
                          <option>Law</option>
                       </select>
                    </div>
                 </div>
                     <br>   
                      <div class="form-row">
  <div class="col">
    <label class="control-label"> Defect Type</label>
      <select  id="defecttype" class="form-control">
        <option>UI</option>
        <option>Functionality</option>
        <option>Enhancement</option>
        <option>Performance</option>
      </select>
  </div>
  </div>

 
  <div class="form-group">
      <label for="enteredby">Entered By:</label>
      <input type="text" class="form-control" id="enteredby" placeholder="Enterd by">
    </div>

  <div class="form-row">
  <div class="form-group">
      <label for="enterddate">Entered Date:</label>
      <input type="date" class="form-control" id="enterddate">
    </div>

    <div class="col">
        <label class="control-label">Status</label>
        <select id="status" class="form-control">
          <option selected>--------</option>
      <option>New</option>
      <option>Open</option>
      <option>Fixed</option>
      <option>Closed</option>
      <option>Reopened</option>
      <option>Defered</option>
    </select>
      
  </div>
  </div>
  </div>

  <div class="form-group">
      <label for="assignedto">Assigned To</label>
      <input type="text" class="form-control" id="assignedto" placeholder="assignedto">
    </div>

    <div class="form-group">
        <label for="fixedby">Fixed By</label>
        <input type="text" class="form-control" id="fixedby" placeholder="fixedby">
      </div>

      <div class="form-row">
          <div class="form-group">
              <label for="fixeddate">Fixed Date:</label>
              <input type="date" class="form-control" id="fixeddate">
            </div>
        
            <div class="col">
                <label class="control-label">availablein</label> 
                <input type="text" class="form-control" id="availablein" placeholder="availablein">
              </div>             
          </div>
          
    
        
          <div class="form-group">
              <label for="comments">Comments:</label>
              <input type="text" class="form-control" id="comments" placeholder="comments">
          </div>
</form>

 <div class="col-submit">
  <button class="submitbtn" onclick="addDefect()">Add Defect</button>
</div>
</div>
    
<script>

  // creating object for ajax
 function addDefect() {
      var data = JSON.stringify({

          "defectid": document.getElementById("defectid").value,
          "severity":document.getElementById("severity").value,
          "priority":document.getElementById("priority").value,
          "defecttype":document.getElementById("defecttype").value,
          "enteredby":document.getElementById("enteredby").value,
          "enterddate":document.getElementById("enterddate").value,
          "status":document.getElementById("status").value,
          "assignedto" :document.getElementById("assignedto").value,
          "fixedby":document.getElementById("fixedby").value,
          "fixeddate":document.getElementById("fixeddate").value,
          "availablein":document.getElementById("availablein").value,
          "comments":document.getElementById("comments").value
 });
      var xhr = new XMLHttpRequest();
      console.log(xhr);
      xhr.open("POST", "http://localhost:3000/Defect")
      xhr.setRequestHeader("Content-type", "application/json");
      xhr.send(data);
    
 }
</script>


</body>
</html>